<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="GymManagement.Presentation.MobileApp.Pages.SubscriptionFlow.SubscribePage"
             Title="Choisir un abonnement">

	<VerticalStackLayout Padding="20" Spacing="15">

		<Label Text="Choisissez un abonnement"
               FontSize="24"
               FontAttributes="Bold"
               HorizontalOptions="Center" />

		<CollectionView x:Name="plansCollectionView"
                        SelectionMode="Single"
                        SelectionChanged="OnPlanSelected">

			<CollectionView.ItemTemplate>
				<DataTemplate>
					<ContentView>

						<ContentView.VisualStateManager.VisualStateGroups>
							<VisualStateGroup Name="CommonStates">
								<VisualState Name="Normal" />
								<VisualState Name="Selected">
									<VisualState.Setters>
										<Setter Property="BackgroundColor" Value="LightYellow" />
									</VisualState.Setters>
								</VisualState>
							</VisualStateGroup>
						</ContentView.VisualStateManager.VisualStateGroups>

						<Frame BorderColor="DodgerBlue"
                               BackgroundColor="DodgerBlue"
                               Padding="10"
                               Margin="5"
                               CornerRadius="10"
                               HasShadow="False">

							<VerticalStackLayout>
                                <Label Text="{Binding MembershipPlanType}" FontSize="10" TextColor="White"/>
								<Label Text="{Binding Description}" FontSize="12" TextColor="White"/>
								<Label Text="{Binding BasePrice, StringFormat='Prix : {0:C}'}" TextColor="White" />
								<Label Text="{Binding RegistrationFees, StringFormat='Frais : {0:C}'}" TextColor="White" />
							</VerticalStackLayout>

						</Frame>

					</ContentView>
				</DataTemplate>
			</CollectionView.ItemTemplate>

		</CollectionView>

		<Button Text="Continuer"
                x:Name="continueButton"
                IsEnabled="False"
                Clicked="OnContinueClicked"
                BackgroundColor="#007AFF"
                TextColor="White"
                CornerRadius="8" />

	</VerticalStackLayout>
</ContentPage>
