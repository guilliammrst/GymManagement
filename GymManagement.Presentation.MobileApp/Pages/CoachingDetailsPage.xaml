<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:GymManagement.Presentation.MobileApp.Converters"
             x:Class="GymManagement.Presentation.MobileApp.Pages.CoachingDetailsPage"
             Title="Détails du coaching">

    <ContentPage.Resources>
        <ResourceDictionary>
            <local:BooleanToVisibilityConverter x:Key="BoolToVisibility" />
            <local:InverseBoolToVisibilityConverter x:Key="InverseBoolToVisibility" />
        </ResourceDictionary>
    </ContentPage.Resources>

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="15">
            <Label Text="Détails du coaching"
                   FontSize="24"
                   FontAttributes="Bold"
                   HorizontalOptions="Center" />

            <Label Text="{Binding StartDate, StringFormat='Début : {0:dd/MM/yyyy}'}"/>
            <Label Text="{Binding EndDate, StringFormat='Fin : {0:dd/MM/yyyy}'}"/>
            <Label Text="{Binding WeekDay, StringFormat='Jour : {0}'}"/>
            <Label Text="{Binding Hour, StringFormat='Heure : {0}:00'}"/>
            <Label Text="{Binding IsActive, StringFormat='Actif : {0}'}"/>
            <Label Text="{Binding RenewWhenExpiry, StringFormat='Renouvellement auto : {0}'}"/>

            <Label Text="Informations du plan"
                   FontAttributes="Bold"
                   Margin="0,10,0,0"/>

            <Label Text="{Binding CoachingPlan.Description, StringFormat='Plan : {0}'}"/>
            <Label Text="{Binding CoachingPlan.Price, StringFormat='Prix : {0} €'}"/>
            <Label Text="{Binding CoachingPlan.IsValid, StringFormat='Valide : {0}'}"/>

            <Label Text="Informations de paiement"
                   FontAttributes="Bold"
                   IsVisible="{Binding IsActive, Converter={StaticResource BoolToVisibility}}" />

            <Label Text="{Binding PaymentDetail.PaymentStatus, StringFormat='Paiement : {0}'}"
                   IsVisible="{Binding IsActive, Converter={StaticResource BoolToVisibility}}" />
            <Label Text="{Binding PaymentDetail.PaymentMethod, StringFormat='Méthode : {0}'}"
                   IsVisible="{Binding IsActive, Converter={StaticResource BoolToVisibility}}" />
            <Label Text="{Binding PaymentDetail.PaymentDate, StringFormat='Payé le : {0:dd/MM/yyyy}'}"
                   IsVisible="{Binding IsActive, Converter={StaticResource BoolToVisibility}}" />

            <Button Text="Payer le coaching"
                    BackgroundColor="Green"
                    TextColor="White"
                    FontAttributes="Bold"
                    CornerRadius="8"
                    IsVisible="{Binding IsActive, Converter={StaticResource InverseBoolToVisibility}}"
                    Clicked="OnPayClicked" />
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
